### YamlMime:ManagedReference
items:
- uid: System.Runtime.Versioning.ComponentGuaranteesAttribute
  id: ComponentGuaranteesAttribute
  children:
  - System.Runtime.Versioning.ComponentGuaranteesAttribute.#ctor(System.Runtime.Versioning.ComponentGuaranteesOptions)
  - System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees
  langs:
  - csharp
  name: ComponentGuaranteesAttribute
  nameWithType: ComponentGuaranteesAttribute
  fullName: System.Runtime.Versioning.ComponentGuaranteesAttribute
  type: Class
  summary: "Definierar säkerheten för kompatibilitet av en komponent, en typ eller en medlem av typen som kan sträcka sig över flera versioner."
  remarks: "ComponentGuaranteesAttribute används av utvecklare av komponenter och klassbibliotek för att ange kompatibilitetsnivån konsumenter av deras bibliotek kan förvänta sig över flera versioner. Anger den säkerhet som en framtida version av biblioteket eller komponenten inte dela upp en befintlig klient. Klienterna kan sedan använda ComponentGuaranteesAttribute som en hjälp vid utformning av sina egna gränssnitt för att säkerställa stabilitet mellan olika versioner.      > [!NOTE] > Common language runtime (CLR) använder inte det här attributet på något sätt. Värdet ligger i formellt dokumentera syftet med komponenten författare. Kompileringen verktyg kan också använda dessa deklarationer för att identifiera kompileringsfel som annars skulle bryta deklarerade garanti.      ## Nivåer för kompatibilitet av ComponentGuaranteesAttribute stöder följande åtkomstnivåer kompatibilitet, som representeras av medlemmar i den <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>uppräkningen:-Ingen version till kompatibilitet (<xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName>).</xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName> </xref:System.Runtime.Versioning.ComponentGuaranteesOptions> Klienten kan förvänta sig att den befintliga klienten bryts framtida versioner. Mer information finns i [Nej kompatibilitet](#None) senare i det här avsnittet.      -Sida-vid-sida version till kompatibilitet (<xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName>).</xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName> Komponenten har testats för att fungera när mer än en version för sammansättningen har lästs in i samma programdomän. I allmänhet kan framtida versioner bryta kompatibiliteten. Men när viktiga förändringar görs den gamla versionen har ändrats inte men finns tillsammans med den nya versionen. Sida-vid-sida-körningen är det förväntade sättet att göra befintliga klienter fungerar när viktiga förändringar görs. Mer information finns i [sida-vid-sida-kompatibilitet](#SideBySide) senare i det här avsnittet.      -Stabil version till kompatibilitet (<xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName>).</xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName> Kommande versioner bryta inte klienten och sida-vid-sida-körningen ska inte behövs. Om klienten är oavsiktligt brutits, kan det vara möjligt att använda sida-vid-sida-körning för att åtgärda problemet. Mer information finns i [stabil kompatibilitet](#Standard) avsnitt.      -Exchange-version till kompatibilitet (<xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName>).</xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName> Extra försiktig så att framtida versioner inte bryts på klienten. Klienten bör använda bara följande typer i signaturen för gränssnitt som används för kommunikation med andra sammansättningar som distribueras oberoende av varandra. Endast en version av typerna förväntas finnas i en domän för angivet program, vilket innebär att sida-vid-sida-körning inte kan åtgärda problemet om en klient bryts. Mer information finns i [Exchange typen kompatibilitet](#Exchange) avsnitt.       I följande avsnitt beskrivs varje nivå av säkerhet i detalj.      <a name=&quot;None&quot;></a>### Inga kompatibilitet Markera en komponent som <xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName>visar att providern ger inga garantier om kompatibilitet.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName> Klienter bör inte ta med eventuella beroenden på gränssnitt. Den här nivån kompatibilitetsnivån är användbart för typer som experiment, eller som är offentligt tillgängliga men är endast avsedd för komponenter som alltid är uppdaterade på samma gång. <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>explicit anger att den här komponenten inte ska användas av externa komponenter.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions>      <a name=&quot;SideBySide&quot;></a>### Sida-vid-sida kompatibilitet Markera en komponent som <xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName>anger att komponenten har testats för att fungera när mer än en version för sammansättningen har lästs in i samma programdomän.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName> Gör ändringar tillåts så länge de görs till sammansättningen som innehåller det högre versionsnumret. Komponenter som är kopplade till en gammal version av sammansättningen förväntas fortsätta att binda till den tidigare versionen och andra komponenter som kan bindas till den nya versionen. Det är också möjligt att uppdatera en komponent som är deklarerad som <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>genom att ändra den gamla versionen förstörande.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions>      <a name=&quot;Standard&quot;></a>### Stabil kompatibilitet Markera en typ som <xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName>anger att typen ska vara stabil mellan olika versioner.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName> Det kan dock också vara möjligt för sida vid sida-versioner av en stabil typ måste finnas i samma programdomän.       Stabil typer upprätthålla en hög binära compatibility List. Därför bör providers undvika att göra viktiga förändringar för stabil typer. Följande typer av ändringar accepteras: – att lägga till privata instansfält till eller ta bort fält från en typ som inte bryter detta serialiseringsformat.      -Ändra typen av icke-serialiserbara till en serialiserbar typ.. (Dock en serialiserbar typ. kan inte ändras till en icke-serialiserbara.)      -Att nya, härleds mer undantag från en metod.      -Bättre prestanda för en metod.      -Om du ändrar intervallet för returvärden så länge ändringen inte påverkar merparten av klienter.      -Korrigera allvarliga fel om affärsjustering är hög och antalet klienter som påverkas negativt är låg.       Eftersom nya versioner av stabil komponenter inte förväntas bryta befintliga klienter, krävs endast en version av en stabil komponent vanligtvis i en tillämpningsdomän. Men är det inte ett krav att stabil typer inte som används som välkända exchange-typer som alla komponenter har beslutat. Om en ny version av en stabil komponent oavsiktligt Bryt vissa komponent och andra komponenter måste den nya versionen, kan den därför möjligt att åtgärda problemet genom att läsa in både gamla och nya komponenten.       <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>ger en högre version kompatibilitet säkerhet än <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions></xref:System.Runtime.Versioning.ComponentGuaranteesOptions> Den är en gemensam standard för version av flera komponenter.       <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>kan kombineras med <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>, vilket anger att komponenten inte kommer att bryta kompatibiliteten men den har testats för att fungera när mer än en version som har lästs in i en viss domän.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions></xref:System.Runtime.Versioning.ComponentGuaranteesOptions>       När en typ eller metod har markerats som <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>, den kan uppgraderas till <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions> </xref:System.Runtime.Versioning.ComponentGuaranteesOptions> Men kan den inte nedgraderas till <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions>      <a name=&quot;Exchange&quot;></a>### Exchange typen kompatibilitet Markera en typ som <xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName>ger en högre version kompatibilitet säkerhet än <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>, och ska tillämpas på de mest stabilt av alla typer.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions> </xref:System.Runtime.Versioning.ComponentGuaranteesOptions?displayProperty=fullName> Dessa typer är avsedda att användas för utbyte mellan oberoende inbyggda komponenter över alla komponenten gränser i både tid (alla versioner av CLR) eller någon version av en komponent eller ett program och utrymme (mellan olika processer mellan-CLR i en process, mellan tillämpningsdomäner i ett CLR). Om en ny ändring görs till en exchange-typ, är det omöjligt att åtgärda problemet genom att läsa in flera versioner av typen.       Exchange-typer ska ändras när ett problem är allvarligt (till exempel ett allvarligt säkerhetsproblem) eller sannolikheten för brott är mycket låg (om funktionen har redan bruten slumpmässiga så att koden inte skulle ha möjligen vidtas beroende på). Du kan göra följande typer av ändringar i en exchange-typ:-Lägg till arv av nya gränssnittsdefinitioner.      -Lägg till nya privata metoder som implementerar metoderna för nyligen ärvt gränssnittsdefinitioner.      -Lägg till nya statiska fält.      -Lägg till nya statiska metoder.      -Lägg till nya Instansmetoder för icke-virtuell.       Följande betraktas gör ändringar och tillåts inte för primitiva typer:-ändra serialisering format. Version feltoleranta serialisering krävs.      -Tillägg eller borttagning av privata instansfält. Detta risker ändrar serialiseringsformatet för typen och bryter klientkod som använder reflektion.      -Ändra serialism av typen. En icke-serialiserbara typ kan inte göras serialiseras, och vice versa.      -Hantera olika undantag från en metod.      -Ändrar intervallet för returvärden för en metod, såvida inte medlemmens definition genererar denna möjlighet och tydligt anger hur klienter ska hantera okända värden.      – Åtgärda de flesta felen. Konsumenter av typen förlitar sig på den befintliga funktionen.       När en komponent är typen eller medlemmen markerad med att <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>garantera att den inte kan ändras till antingen <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>eller <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions> </xref:System.Runtime.Versioning.ComponentGuaranteesOptions> </xref:System.Runtime.Versioning.ComponentGuaranteesOptions>       Exchange-typer normalt grundläggande typer (t.ex <xref:System.Int32>och <xref:System.String>i .NET Framework) och gränssnitt (som <xref:System.Collections.Generic.IList%601>, <xref:System.Collections.Generic.IEnumerable%601>, och <xref:System.IComparable%601>) som används ofta i offentliga gränssnitt.</xref:System.IComparable%601> </xref:System.Collections.Generic.IEnumerable%601> </xref:System.Collections.Generic.IList%601> </xref:System.String> </xref:System.Int32>       Exchange-typer kan offentligt visa andra typer som också är markerade med <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>kompatibilitet.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions> Dessutom beror exchange inte på hur Windows API: er som är lätt att ändra.      ## Komponenten garantier: Sammanfattning i följande tabell visar hur en komponents egenskaper och användning påverkar dess kompatibilitet garanti.      | Komponenten egenskaper | Exchange | Stabil | Sida vid sida | Ingen |   |-------------------------------|--------------|------------|--------------------|----------|   | Kan vara används i gränssnitt mellan komponenter att version oberoende av varandra. | Y | N | N | N |   | Kan vara används (privat) av en sammansättning som versioner oberoende av varandra. | Y | Y | Y | N |   | Kan ha flera versioner i en enda programdomän. | N | Y | Y | Y |   | Kan vi göra viktiga förändringar | N | N | Y | Y |   | Testa att göra vissa flera versioner av sammansättningen kan läsas tillsammans. | N | N | Y | N |   | Kan göra viktiga förändringar på plats. | N | N | N | Y |   | Kan göra mycket säker hårt servicing ändringar på plats. | Y | Y | Y | Y |      ## De attribut du kan använda ComponentGuaranteesAttribute till en sammansättning, en typ eller en typ som medlem. Dess program är hierarkiskt. Som är som standard garantin definieras av den <xref:System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees%2A>definierar egenskapen för attributet på nivån sammansättningen för alla typer i sammansättningen och alla medlemmar i dessa typer.</xref:System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees%2A> På liknande sätt, om garantin används för typ som standard den gäller även för varje medlem av typen.       Den ärvda säkerheten kan åsidosättas genom att använda ComponentGuaranteesAttribute enskilda typer och Skriv medlemmar. Men kan garanterar att åsidosätter standarden begränsa garantin. de kan förbättra den. Om exempelvis en sammansättning är markerad med den <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>garantera dess typer och medlemmar har ingen garanti för kompatibilitet och annan garanti som tillämpas på typer eller medlemmar i sammansättningen ignoreras.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions>      ## Testa säkerheten i <xref:System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees%2A>-egenskap returnerar en medlem i den <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>-uppräkningen, som är markerad med den <xref:System.FlagsAttribute>attribut.</xref:System.FlagsAttribute> </xref:System.Runtime.Versioning.ComponentGuaranteesOptions> </xref:System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees%2A> Det innebär att du bör testa för den flagga som du är intresserad av maskering bort potentiellt okända flaggor. Till exempel testar i följande exempel om typen har markerats som <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions>       [!code-cs[System.Runtime.Versioning.ComponentGuaranteesAttribute.Class#1](~/add/codesnippet/csharp/t-system.runtime.version_1.cs)][!code-vb[System.Runtime.Versioning.ComponentGuaranteesAttribute.Class#1](~/add/codesnippet/visualbasic/t-system.runtime.version_1.vb) ] i följande exempel testar om typen har markerats som <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>eller <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>.</xref:System.Runtime.Versioning.ComponentGuaranteesOptions> </xref:System.Runtime.Versioning.ComponentGuaranteesOptions>         [!code-cs[System.Runtime.Versioning.ComponentGuaranteesAttribute.Class#2](~/add/codesnippet/csharp/t-system.runtime.version_2.cs)][!code-vb[System.Runtime.Versioning.ComponentGuaranteesAttribute.Class#2](~/add/codesnippet/visualbasic/t-system.runtime.version_2.vb) ] följande exempel tester om typen har markerats som <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>(d.v.s. varken <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>eller <xref:System.Runtime.Versioning.ComponentGuaranteesOptions>).</xref:System.Runtime.Versioning.ComponentGuaranteesOptions> </xref:System.Runtime.Versioning.ComponentGuaranteesOptions> </xref:System.Runtime.Versioning.ComponentGuaranteesOptions>         [!code-cs[System.Runtime.Versioning.ComponentGuaranteesAttribute.Class#3](~/add/codesnippet/csharp/t-system.runtime.version_3.cs)][!code-vb[System.Runtime.Versioning.ComponentGuaranteesAttribute.Class#3  ](~/add/codesnippet/visualbasic/t-system.runtime.version_3.vb)]"
  syntax:
    content: >-
      [System.AttributeUsage(System.AttributeTargets.Assembly | System.AttributeTargets.Module | System.AttributeTargets.Class | System.AttributeTargets.Struct | System.AttributeTargets.Enum | System.AttributeTargets.Constructor | System.AttributeTargets.Method | System.AttributeTargets.Property | System.AttributeTargets.Event | System.AttributeTargets.Interface | System.AttributeTargets.Delegate, AllowMultiple=false, Inherited=false)]

      public sealed class ComponentGuaranteesAttribute : Attribute
  inheritance:
  - System.Attribute
  implements: []
  inheritedMembers: []
  platform:
  - net462
- uid: System.Runtime.Versioning.ComponentGuaranteesAttribute.#ctor(System.Runtime.Versioning.ComponentGuaranteesOptions)
  id: '#ctor(System.Runtime.Versioning.ComponentGuaranteesOptions)'
  parent: System.Runtime.Versioning.ComponentGuaranteesAttribute
  langs:
  - csharp
  name: ComponentGuaranteesAttribute(ComponentGuaranteesOptions)
  nameWithType: ComponentGuaranteesAttribute.ComponentGuaranteesAttribute(ComponentGuaranteesOptions)
  fullName: System.Runtime.Versioning.ComponentGuaranteesAttribute.ComponentGuaranteesAttribute(ComponentGuaranteesOptions)
  type: Constructor
  assemblies:
  - mscorlib
  namespace: System.Runtime.Versioning
  summary: "Initierar en ny instans av den <xref href=&quot;System.Runtime.Versioning.ComponentGuaranteesAttribute&quot;> </xref> klass med ett värde som anger ett bibliotek, typ eller medlemmens garanteras kompatibilitetsnivån för flera versioner."
  remarks: "När den <xref:System.Runtime.Versioning.ComponentGuaranteesAttribute>klass instansieras värdet för den `guarantees` har tilldelats den <xref:System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees%2A>egenskapen.</xref:System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees%2A> </xref:System.Runtime.Versioning.ComponentGuaranteesAttribute>"
  syntax:
    content: public ComponentGuaranteesAttribute (System.Runtime.Versioning.ComponentGuaranteesOptions guarantees);
    parameters:
    - id: guarantees
      type: System.Runtime.Versioning.ComponentGuaranteesOptions
      description: "En av de uppräkningsvärden som anger kompatibilitetsnivån som garanterat över flera versioner."
  overload: System.Runtime.Versioning.ComponentGuaranteesAttribute.#ctor*
  exceptions: []
  platform:
  - net462
- uid: System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees
  id: Guarantees
  parent: System.Runtime.Versioning.ComponentGuaranteesAttribute
  langs:
  - csharp
  name: Guarantees
  nameWithType: ComponentGuaranteesAttribute.Guarantees
  fullName: System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees
  type: Property
  assemblies:
  - mscorlib
  namespace: System.Runtime.Versioning
  summary: "Hämtar ett värde som anger garanterad tjänstenivå för kompatibilitet för ett bibliotek, typ eller medlem av typen som sträcker sig över flera versioner."
  remarks: "Värdet på egenskapen garantier som motsvarar den `guarantees` parameter för den <xref:System.Runtime.Versioning.ComponentGuaranteesAttribute.%23ctor%2A>konstruktor.</xref:System.Runtime.Versioning.ComponentGuaranteesAttribute.%23ctor%2A>"
  syntax:
    content: public System.Runtime.Versioning.ComponentGuaranteesOptions Guarantees { get; }
    return:
      type: System.Runtime.Versioning.ComponentGuaranteesOptions
      description: "En av de uppräkningsvärden som anger kompatibilitetsnivån som garanterat över flera versioner."
  overload: System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees*
  exceptions: []
  platform:
  - net462
references:
- uid: System.Attribute
  isExternal: false
  name: System.Attribute
- uid: System.Runtime.Versioning.ComponentGuaranteesAttribute.#ctor(System.Runtime.Versioning.ComponentGuaranteesOptions)
  parent: System.Runtime.Versioning.ComponentGuaranteesAttribute
  isExternal: false
  name: ComponentGuaranteesAttribute(ComponentGuaranteesOptions)
  nameWithType: ComponentGuaranteesAttribute.ComponentGuaranteesAttribute(ComponentGuaranteesOptions)
  fullName: System.Runtime.Versioning.ComponentGuaranteesAttribute.ComponentGuaranteesAttribute(ComponentGuaranteesOptions)
- uid: System.Runtime.Versioning.ComponentGuaranteesOptions
  parent: System.Runtime.Versioning
  isExternal: false
  name: ComponentGuaranteesOptions
  nameWithType: ComponentGuaranteesOptions
  fullName: System.Runtime.Versioning.ComponentGuaranteesOptions
- uid: System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees
  parent: System.Runtime.Versioning.ComponentGuaranteesAttribute
  isExternal: false
  name: Guarantees
  nameWithType: ComponentGuaranteesAttribute.Guarantees
  fullName: System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees
- uid: System.Runtime.Versioning.ComponentGuaranteesAttribute.#ctor*
  parent: System.Runtime.Versioning.ComponentGuaranteesAttribute
  isExternal: false
  name: ComponentGuaranteesAttribute
  nameWithType: ComponentGuaranteesAttribute.ComponentGuaranteesAttribute
- uid: System.Runtime.Versioning.ComponentGuaranteesAttribute.Guarantees*
  parent: System.Runtime.Versioning.ComponentGuaranteesAttribute
  isExternal: false
  name: Guarantees
  nameWithType: ComponentGuaranteesAttribute.Guarantees
